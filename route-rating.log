DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.r9Tpojyut4ra3XnrBrnTY_EzhvJtHlfRfmlqAFFyGXg'}, 'body': None}, None), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJCQVNJQyIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.vaOanroU1EWhvUDz0Qc76GIlbz1XVGXYb2Arq8z0ofI'}, 'body': None}, None), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiIwIiwiaXNzdWVkX2F0IjoiMCJ9.sbdxWm2DOos53_zoK7PX9pMoJGMQiHLJJuffvKDgzME'}, 'body': None}, None), {}), {})
DEBUG:root:Invalid token type. Token must be a <class 'bytes'>
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoiMTAwMDAifQ.sPfWb9Nv8oq2NEAMBIAJk6wtJVAidJuiYZd4zp5Q2ko'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6InNvbWVfaWQiLCJhdXRob3JpdGllcyI6IkFETUlOIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoiMTAwMDAifQ.bs_J3IOtN9MeCpK258Sz-t2mS5H8pL2YrhfUrYnBEUU'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImlzc3VlZF9hdCI6IjEwMDAwIn0.p2Wm1OUdN03VMxatXP-aFxKbfdA4Yo544p5dJQ7x4us'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.Fw4lVOlsAWwwnzA9LjI6wTX-xtLrhzTQfhg79OOlTi0'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciJ9.GtEXLGcH0Ht3JbV9SxbPW10xPDuxTGndw3K3Ek1_YLw'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.qVttlc2ND6yKlsSH9_2RCJT4URYSRF3Sc1Q5UwreZa4'}, 'body': None}, None), {}), {})
DEBUG:root:Signature verification failed
INFO:root:JWT payload is missing.
DEBUG:root:((({'headers': {}, 'body': None}, None), {}), {})
DEBUG:root:Invalid token type. Token must be a <class 'bytes'>
INFO:root:JWT payload is missing.
DEBUG:root:((({'headers': None, 'body': None}, None), {}), {})
ERROR:root:Exception raised while authenticating.
ERROR:root:Traceback (most recent call last):
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/utils/handler_utils.py", line 34, in validate_jwt
    valid, jwt_token, refresh_token = auth.validate_jwt()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 35, in validate_jwt
    jwt_payload = self.get_jwt_payload()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 68, in get_jwt_payload
    return self.jwt.decode_jwt_token(self.auth_header)
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 18, in auth_header
    if self.event.headers.get("Authorization"):
AttributeError: 'NoneType' object has no attribute 'get'

ERROR:root:'NoneType' object has no attribute 'get'
Traceback (most recent call last):
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/utils/handler_utils.py", line 34, in validate_jwt
    valid, jwt_token, refresh_token = auth.validate_jwt()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 35, in validate_jwt
    jwt_payload = self.get_jwt_payload()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 68, in get_jwt_payload
    return self.jwt.decode_jwt_token(self.auth_header)
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 18, in auth_header
    if self.event.headers.get("Authorization"):
AttributeError: 'NoneType' object has no attribute 'get'
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.r9Tpojyut4ra3XnrBrnTY_EzhvJtHlfRfmlqAFFyGXg'}, 'body': None}, None), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJCQVNJQyIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.vaOanroU1EWhvUDz0Qc76GIlbz1XVGXYb2Arq8z0ofI'}, 'body': None}, None), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiIwIiwiaXNzdWVkX2F0IjoiMCJ9.sbdxWm2DOos53_zoK7PX9pMoJGMQiHLJJuffvKDgzME'}, 'body': None}, None), {}), {})
DEBUG:root:Invalid token type. Token must be a <class 'bytes'>
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiIwIiwiaXNzdWVkX2F0IjoiMCJ9.sbdxWm2DOos53_zoK7PX9pMoJGMQiHLJJuffvKDgzME', 'Refresh': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.NV_GbhRm8-VRaVe7cDUmQFYRZOulouPn4K2EypylfLE'}, 'body': None}, None), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoiMTAwMDAifQ.sPfWb9Nv8oq2NEAMBIAJk6wtJVAidJuiYZd4zp5Q2ko'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6InNvbWVfaWQiLCJhdXRob3JpdGllcyI6IkFETUlOIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoiMTAwMDAifQ.bs_J3IOtN9MeCpK258Sz-t2mS5H8pL2YrhfUrYnBEUU'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImlzc3VlZF9hdCI6IjEwMDAwIn0.p2Wm1OUdN03VMxatXP-aFxKbfdA4Yo544p5dJQ7x4us'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.Fw4lVOlsAWwwnzA9LjI6wTX-xtLrhzTQfhg79OOlTi0'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciJ9.GtEXLGcH0Ht3JbV9SxbPW10xPDuxTGndw3K3Ek1_YLw'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.qVttlc2ND6yKlsSH9_2RCJT4URYSRF3Sc1Q5UwreZa4'}, 'body': None}, None), {}), {})
DEBUG:root:Signature verification failed
INFO:root:JWT payload is missing.
DEBUG:root:((({'headers': {}, 'body': None}, None), {}), {})
DEBUG:root:Invalid token type. Token must be a <class 'bytes'>
INFO:root:JWT payload is missing.
DEBUG:root:((({'headers': None, 'body': None}, None), {}), {})
ERROR:root:Exception raised while authenticating.
ERROR:root:Traceback (most recent call last):
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/utils/handler_utils.py", line 34, in validate_jwt
    valid, jwt_token, refresh_token = auth.validate_jwt()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 35, in validate_jwt
    jwt_payload = self.get_jwt_payload()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 68, in get_jwt_payload
    return self.jwt.decode_jwt_token(self.auth_header)
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 18, in auth_header
    if self.event.headers.get("Authorization"):
AttributeError: 'NoneType' object has no attribute 'get'

ERROR:root:'NoneType' object has no attribute 'get'
Traceback (most recent call last):
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/utils/handler_utils.py", line 34, in validate_jwt
    valid, jwt_token, refresh_token = auth.validate_jwt()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 35, in validate_jwt
    jwt_payload = self.get_jwt_payload()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 68, in get_jwt_payload
    return self.jwt.decode_jwt_token(self.auth_header)
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 18, in auth_header
    if self.event.headers.get("Authorization"):
AttributeError: 'NoneType' object has no attribute 'get'
DEBUG:root:((({'headers': None, 'body': {'email': 'some_email', 'password': 'EYYYEYE'}}, None), {}), {})
DEBUG:root:Creating database session.
INFO:root:<api.api_gateway.ApiGatewayEvent object at 0x1070b4790>
DEBUG:UsersService:Initializing UsersService
DEBUG:root:Creating database session.
DEBUG:UsersService:Attempting login:
{'id': None, 'username': None, 'password': 'EYYYEYE', 'city': None, 'state': None, 'firstName': None, 'lastName': None, 'email': 'some_email', 'phoneNumber': None, 'authority': None, 'role': None}
DEBUG:UsersService:Getting user by email:
{'id': None, 'username': None, 'password': 'EYYYEYE', 'city': None, 'state': None, 'firstName': None, 'lastName': None, 'email': 'some_email', 'phoneNumber': None, 'authority': None, 'role': None}
DEBUG:UsersService:User from database:
{'id': 'THIS IS AN ID', 'username': 'some_username', 'password': '$2a$10$SUi3lVy0kigxfDMNzid/8uHubvVBE.VkRe4oiEzIPDzqKLgaHxuh.', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'some_first_name', 'lastName': 'some_last_name', 'email': 'some_email', 'phoneNumber': '8765309', 'authority': 'ADMIN', 'role': 'ADMIN_ROLE'}
DEBUG:UsersService:Comparing passwords
DEBUG:root:((({'headers': None, 'body': {'email': 'some_email', 'password': 'some_password'}}, None), {}), {})
DEBUG:root:Creating database session.
INFO:root:<api.api_gateway.ApiGatewayEvent object at 0x1070ee1c0>
DEBUG:UsersService:Initializing UsersService
DEBUG:root:Creating database session.
DEBUG:UsersService:Attempting login:
{'id': None, 'username': None, 'password': 'some_password', 'city': None, 'state': None, 'firstName': None, 'lastName': None, 'email': 'some_email', 'phoneNumber': None, 'authority': None, 'role': None}
DEBUG:UsersService:Getting user by email:
{'id': None, 'username': None, 'password': 'some_password', 'city': None, 'state': None, 'firstName': None, 'lastName': None, 'email': 'some_email', 'phoneNumber': None, 'authority': None, 'role': None}
DEBUG:UsersService:User from database:
{'id': 'THIS IS AN ID', 'username': 'some_username', 'password': '$2a$10$kEf9D3PLuYMl12I1qV6VUufKfoEeR4GTceFa/muD9u7KlqkzGnCeS', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'some_first_name', 'lastName': 'some_last_name', 'email': 'some_email', 'phoneNumber': '8765309', 'authority': 'ADMIN', 'role': 'ADMIN_ROLE'}
DEBUG:UsersService:Comparing passwords
DEBUG:root:((({'headers': None, 'body': {}}, None), {}), {})
DEBUG:root:Creating database session.
DEBUG:UsersService:Initializing UsersService
DEBUG:root:Creating database session.
DEBUG:root:((({'headers': None, 'body': {'id': None, 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}}, None), {}), {})
DEBUG:root:Creating database session.
DEBUG:UsersService:Initializing UsersService
DEBUG:root:Creating database session.
DEBUG:UsersService:Getting user by email:
{'id': None, 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}
DEBUG:UsersService:User from database:
{'id': None, 'username': None, 'password': None, 'city': None, 'state': None, 'firstName': None, 'lastName': None, 'email': None, 'phoneNumber': None, 'authority': None, 'role': None}
DEBUG:UsersService:Getting user by username:
{'id': None, 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}
DEBUG:UsersService:Encrypting password
DEBUG:root:((({'headers': None, 'body': {'id': 'adsf', 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}}, None), {}), {})
DEBUG:root:Creating database session.
DEBUG:UsersService:Initializing UsersService
DEBUG:root:Creating database session.
DEBUG:UsersService:Getting user by email:
{'id': 'adsf', 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}
DEBUG:UsersService:User from database:
{'id': 'adsf', 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}
DEBUG:UsersService:Getting user by username:
{'id': 'adsf', 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}
DEBUG:root:((({'headers': {'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEyMzQ1Njc4OTAiLCJlbWFpbCI6IkpvaG4gRG9lIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoxMjMsImF1dGhvcml0aWVzIjpbIkFETUlOIl19.krGL5CXulgL21svmqZESIBwoVF-YLCfc_jJ-xvD4Axk'}}, <__main__.FakeLambdaContext object at 0x101437910>), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.r9Tpojyut4ra3XnrBrnTY_EzhvJtHlfRfmlqAFFyGXg'}, 'body': None}, None), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJCQVNJQyIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.vaOanroU1EWhvUDz0Qc76GIlbz1XVGXYb2Arq8z0ofI'}, 'body': None}, None), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiIwIiwiaXNzdWVkX2F0IjoiMCJ9.sbdxWm2DOos53_zoK7PX9pMoJGMQiHLJJuffvKDgzME'}, 'body': None}, None), {}), {})
DEBUG:root:Invalid token type. Token must be a <class 'bytes'>
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoiMTAwMDAifQ.sPfWb9Nv8oq2NEAMBIAJk6wtJVAidJuiYZd4zp5Q2ko'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6InNvbWVfaWQiLCJhdXRob3JpdGllcyI6IkFETUlOIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoiMTAwMDAifQ.bs_J3IOtN9MeCpK258Sz-t2mS5H8pL2YrhfUrYnBEUU'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImlzc3VlZF9hdCI6IjEwMDAwIn0.p2Wm1OUdN03VMxatXP-aFxKbfdA4Yo544p5dJQ7x4us'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.Fw4lVOlsAWwwnzA9LjI6wTX-xtLrhzTQfhg79OOlTi0'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciJ9.GtEXLGcH0Ht3JbV9SxbPW10xPDuxTGndw3K3Ek1_YLw'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.qVttlc2ND6yKlsSH9_2RCJT4URYSRF3Sc1Q5UwreZa4'}, 'body': None}, None), {}), {})
DEBUG:root:Signature verification failed
INFO:root:JWT payload is missing.
DEBUG:root:((({'headers': {}, 'body': None}, None), {}), {})
DEBUG:root:Invalid token type. Token must be a <class 'bytes'>
INFO:root:JWT payload is missing.
DEBUG:root:((({'headers': None, 'body': None}, None), {}), {})
ERROR:root:Exception raised while authenticating.
ERROR:root:Traceback (most recent call last):
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/utils/handler_utils.py", line 34, in validate_jwt
    valid, jwt_token, refresh_token = auth.validate_jwt()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 35, in validate_jwt
    jwt_payload = self.get_jwt_payload()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 68, in get_jwt_payload
    return self.jwt.decode_jwt_token(self.auth_header)
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 18, in auth_header
    if self.event.headers.get("Authorization"):
AttributeError: 'NoneType' object has no attribute 'get'

ERROR:root:'NoneType' object has no attribute 'get'
Traceback (most recent call last):
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/utils/handler_utils.py", line 34, in validate_jwt
    valid, jwt_token, refresh_token = auth.validate_jwt()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 35, in validate_jwt
    jwt_payload = self.get_jwt_payload()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 68, in get_jwt_payload
    return self.jwt.decode_jwt_token(self.auth_header)
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 18, in auth_header
    if self.event.headers.get("Authorization"):
AttributeError: 'NoneType' object has no attribute 'get'
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.r9Tpojyut4ra3XnrBrnTY_EzhvJtHlfRfmlqAFFyGXg'}, 'body': None}, None), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJCQVNJQyIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.vaOanroU1EWhvUDz0Qc76GIlbz1XVGXYb2Arq8z0ofI'}, 'body': None}, None), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiIwIiwiaXNzdWVkX2F0IjoiMCJ9.sbdxWm2DOos53_zoK7PX9pMoJGMQiHLJJuffvKDgzME'}, 'body': None}, None), {}), {})
DEBUG:root:Invalid token type. Token must be a <class 'bytes'>
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiIwIiwiaXNzdWVkX2F0IjoiMCJ9.sbdxWm2DOos53_zoK7PX9pMoJGMQiHLJJuffvKDgzME', 'Refresh': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.NV_GbhRm8-VRaVe7cDUmQFYRZOulouPn4K2EypylfLE'}, 'body': None}, None), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoiMTAwMDAifQ.sPfWb9Nv8oq2NEAMBIAJk6wtJVAidJuiYZd4zp5Q2ko'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6InNvbWVfaWQiLCJhdXRob3JpdGllcyI6IkFETUlOIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoiMTAwMDAifQ.bs_J3IOtN9MeCpK258Sz-t2mS5H8pL2YrhfUrYnBEUU'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImlzc3VlZF9hdCI6IjEwMDAwIn0.p2Wm1OUdN03VMxatXP-aFxKbfdA4Yo544p5dJQ7x4us'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.Fw4lVOlsAWwwnzA9LjI6wTX-xtLrhzTQfhg79OOlTi0'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciJ9.GtEXLGcH0Ht3JbV9SxbPW10xPDuxTGndw3K3Ek1_YLw'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.qVttlc2ND6yKlsSH9_2RCJT4URYSRF3Sc1Q5UwreZa4'}, 'body': None}, None), {}), {})
DEBUG:root:Signature verification failed
INFO:root:JWT payload is missing.
DEBUG:root:((({'headers': {}, 'body': None}, None), {}), {})
DEBUG:root:Invalid token type. Token must be a <class 'bytes'>
INFO:root:JWT payload is missing.
DEBUG:root:((({'headers': None, 'body': None}, None), {}), {})
ERROR:root:Exception raised while authenticating.
ERROR:root:Traceback (most recent call last):
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/utils/handler_utils.py", line 34, in validate_jwt
    valid, jwt_token, refresh_token = auth.validate_jwt()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 35, in validate_jwt
    jwt_payload = self.get_jwt_payload()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 68, in get_jwt_payload
    return self.jwt.decode_jwt_token(self.auth_header)
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 18, in auth_header
    if self.event.headers.get("Authorization"):
AttributeError: 'NoneType' object has no attribute 'get'

ERROR:root:'NoneType' object has no attribute 'get'
Traceback (most recent call last):
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/utils/handler_utils.py", line 34, in validate_jwt
    valid, jwt_token, refresh_token = auth.validate_jwt()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 35, in validate_jwt
    jwt_payload = self.get_jwt_payload()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 68, in get_jwt_payload
    return self.jwt.decode_jwt_token(self.auth_header)
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 18, in auth_header
    if self.event.headers.get("Authorization"):
AttributeError: 'NoneType' object has no attribute 'get'
DEBUG:root:((({'headers': None, 'body': {'email': 'some_email', 'password': 'EYYYEYE'}}, None), {}), {})
DEBUG:root:Creating database session.
INFO:root:<api.api_gateway.ApiGatewayEvent object at 0x1090f8ee0>
DEBUG:UsersService:Initializing UsersService
DEBUG:root:Creating database session.
DEBUG:UsersService:Attempting login:
{'id': None, 'username': None, 'password': 'EYYYEYE', 'city': None, 'state': None, 'firstName': None, 'lastName': None, 'email': 'some_email', 'phoneNumber': None, 'authority': None, 'role': None}
DEBUG:UsersService:Getting user by email:
{'id': None, 'username': None, 'password': 'EYYYEYE', 'city': None, 'state': None, 'firstName': None, 'lastName': None, 'email': 'some_email', 'phoneNumber': None, 'authority': None, 'role': None}
DEBUG:UsersService:User from database:
{'id': 'THIS IS AN ID', 'username': 'some_username', 'password': '$2a$10$EFM30dYcet8Ge/K1kcwTMeQLjjIBQqD2VKNksAX5EYVj//9JwiPFy', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'some_first_name', 'lastName': 'some_last_name', 'email': 'some_email', 'phoneNumber': '8765309', 'authority': 'ADMIN', 'role': 'ADMIN_ROLE'}
DEBUG:UsersService:Comparing passwords
DEBUG:root:((({'headers': None, 'body': {'email': 'some_email', 'password': 'some_password'}}, None), {}), {})
DEBUG:root:Creating database session.
INFO:root:<api.api_gateway.ApiGatewayEvent object at 0x109111b80>
DEBUG:UsersService:Initializing UsersService
DEBUG:root:Creating database session.
DEBUG:UsersService:Attempting login:
{'id': None, 'username': None, 'password': 'some_password', 'city': None, 'state': None, 'firstName': None, 'lastName': None, 'email': 'some_email', 'phoneNumber': None, 'authority': None, 'role': None}
DEBUG:UsersService:Getting user by email:
{'id': None, 'username': None, 'password': 'some_password', 'city': None, 'state': None, 'firstName': None, 'lastName': None, 'email': 'some_email', 'phoneNumber': None, 'authority': None, 'role': None}
DEBUG:UsersService:User from database:
{'id': 'THIS IS AN ID', 'username': 'some_username', 'password': '$2a$10$YS6nPkHr1XzcsfH3achlNeWkgZYY/bwnHvpczf.gMkCqPlzZFkPfG', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'some_first_name', 'lastName': 'some_last_name', 'email': 'some_email', 'phoneNumber': '8765309', 'authority': 'ADMIN', 'role': 'ADMIN_ROLE'}
DEBUG:UsersService:Comparing passwords
DEBUG:root:((({'headers': None, 'body': {}}, None), {}), {})
DEBUG:root:Creating database session.
DEBUG:UsersService:Initializing UsersService
DEBUG:root:Creating database session.
DEBUG:root:((({'headers': None, 'body': {'id': None, 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}}, None), {}), {})
DEBUG:root:Creating database session.
DEBUG:UsersService:Initializing UsersService
DEBUG:root:Creating database session.
DEBUG:UsersService:Getting user by email:
{'id': None, 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}
DEBUG:UsersService:User from database:
{'id': None, 'username': None, 'password': None, 'city': None, 'state': None, 'firstName': None, 'lastName': None, 'email': None, 'phoneNumber': None, 'authority': None, 'role': None}
DEBUG:UsersService:Getting user by username:
{'id': None, 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}
DEBUG:UsersService:Encrypting password
DEBUG:root:((({'headers': None, 'body': {'id': 'adsf', 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}}, None), {}), {})
DEBUG:root:Creating database session.
DEBUG:UsersService:Initializing UsersService
DEBUG:root:Creating database session.
DEBUG:UsersService:Getting user by email:
{'id': 'adsf', 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}
DEBUG:UsersService:User from database:
{'id': 'adsf', 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}
DEBUG:UsersService:Getting user by username:
{'id': 'adsf', 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}
DEBUG:root:((({'headers': {'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEyMzQ1Njc4OTAiLCJlbWFpbCI6IkpvaG4gRG9lIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoxMjMsImF1dGhvcml0aWVzIjpbIkFETUlOIl19.krGL5CXulgL21svmqZESIBwoVF-YLCfc_jJ-xvD4Axk'}}, <__main__.FakeLambdaContext object at 0x10988f910>), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEyMzQ1Njc4OTAiLCJlbWFpbCI6IkpvaG4gRG9lIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoxMjMsImF1dGhvcml0aWVzIjpbIkJBU0lDIl19.Wm79fxxEKRwUpuyr4t3DSIKXfHZtsAR_C0c9GK9enZ4'}}, <__main__.FakeLambdaContext object at 0x106524910>), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEyMzQ1Njc4OTAiLCJ1c2VybmFtZSI6IkpvaG4gRG9lIiwiZXhwaXJlcyI6MTIzLCJhdXRob3JpdGllcyI6WyJBRE1JTiJdfQ.o9dODnO_z2DUyJKTdXtuL_PFc8zFnEdsi20L5TpzYZU'}}, <__main__.FakeLambdaContext object at 0x106d51910>), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEyMzQ1Njc4OTAiLCJlbWFpbCI6IkpvaG4gRG9lIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoxMjMsImF1dGhvcml0aWVzIjpbIkFETUlOIl19.krGL5CXulgL21svmqZESIBwoVF-YLCfc_jJ-xvD4Axk'}}, <__main__.FakeLambdaContext object at 0x10536a910>), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEyMzQ1Njc4OTAiLCJlbWFpbCI6IkpvaG4gRG9lIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoxMjMsImF1dGhvcml0aWVzIjpbIkJBU0lDIl19.Wm79fxxEKRwUpuyr4t3DSIKXfHZtsAR_C0c9GK9enZ4'}}, <__main__.FakeLambdaContext object at 0x105878910>), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEyMzQ1Njc4OTAiLCJ1c2VybmFtZSI6IkpvaG4gRG9lIiwiZXhwaXJlcyI6MTIzLCJhdXRob3JpdGllcyI6WyJBRE1JTiJdfQ.o9dODnO_z2DUyJKTdXtuL_PFc8zFnEdsi20L5TpzYZU'}}, <__main__.FakeLambdaContext object at 0x10891c910>), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.r9Tpojyut4ra3XnrBrnTY_EzhvJtHlfRfmlqAFFyGXg'}, 'body': None}, None), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJCQVNJQyIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.vaOanroU1EWhvUDz0Qc76GIlbz1XVGXYb2Arq8z0ofI'}, 'body': None}, None), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiIwIiwiaXNzdWVkX2F0IjoiMCJ9.sbdxWm2DOos53_zoK7PX9pMoJGMQiHLJJuffvKDgzME'}, 'body': None}, None), {}), {})
DEBUG:root:Invalid token type. Token must be a <class 'bytes'>
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoiMTAwMDAifQ.sPfWb9Nv8oq2NEAMBIAJk6wtJVAidJuiYZd4zp5Q2ko'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6InNvbWVfaWQiLCJhdXRob3JpdGllcyI6IkFETUlOIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoiMTAwMDAifQ.bs_J3IOtN9MeCpK258Sz-t2mS5H8pL2YrhfUrYnBEUU'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImlzc3VlZF9hdCI6IjEwMDAwIn0.p2Wm1OUdN03VMxatXP-aFxKbfdA4Yo544p5dJQ7x4us'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.Fw4lVOlsAWwwnzA9LjI6wTX-xtLrhzTQfhg79OOlTi0'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciJ9.GtEXLGcH0Ht3JbV9SxbPW10xPDuxTGndw3K3Ek1_YLw'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.qVttlc2ND6yKlsSH9_2RCJT4URYSRF3Sc1Q5UwreZa4'}, 'body': None}, None), {}), {})
DEBUG:root:Signature verification failed
INFO:root:JWT payload is missing.
DEBUG:root:((({'headers': {}, 'body': None}, None), {}), {})
DEBUG:root:Invalid token type. Token must be a <class 'bytes'>
INFO:root:JWT payload is missing.
DEBUG:root:((({'headers': None, 'body': None}, None), {}), {})
ERROR:root:Exception raised while authenticating.
ERROR:root:Traceback (most recent call last):
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/utils/handler_utils.py", line 34, in validate_jwt
    valid, jwt_token, refresh_token = auth.validate_jwt()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 35, in validate_jwt
    jwt_payload = self.get_jwt_payload()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 68, in get_jwt_payload
    return self.jwt.decode_jwt_token(self.auth_header)
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 18, in auth_header
    if self.event.headers.get("Authorization"):
AttributeError: 'NoneType' object has no attribute 'get'

ERROR:root:'NoneType' object has no attribute 'get'
Traceback (most recent call last):
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/utils/handler_utils.py", line 34, in validate_jwt
    valid, jwt_token, refresh_token = auth.validate_jwt()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 35, in validate_jwt
    jwt_payload = self.get_jwt_payload()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 68, in get_jwt_payload
    return self.jwt.decode_jwt_token(self.auth_header)
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 18, in auth_header
    if self.event.headers.get("Authorization"):
AttributeError: 'NoneType' object has no attribute 'get'
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.r9Tpojyut4ra3XnrBrnTY_EzhvJtHlfRfmlqAFFyGXg'}, 'body': None}, None), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJCQVNJQyIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.vaOanroU1EWhvUDz0Qc76GIlbz1XVGXYb2Arq8z0ofI'}, 'body': None}, None), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiIwIiwiaXNzdWVkX2F0IjoiMCJ9.sbdxWm2DOos53_zoK7PX9pMoJGMQiHLJJuffvKDgzME'}, 'body': None}, None), {}), {})
DEBUG:root:Invalid token type. Token must be a <class 'bytes'>
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiIwIiwiaXNzdWVkX2F0IjoiMCJ9.sbdxWm2DOos53_zoK7PX9pMoJGMQiHLJJuffvKDgzME', 'Refresh': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.NV_GbhRm8-VRaVe7cDUmQFYRZOulouPn4K2EypylfLE'}, 'body': None}, None), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoiMTAwMDAifQ.sPfWb9Nv8oq2NEAMBIAJk6wtJVAidJuiYZd4zp5Q2ko'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6InNvbWVfaWQiLCJhdXRob3JpdGllcyI6IkFETUlOIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoiMTAwMDAifQ.bs_J3IOtN9MeCpK258Sz-t2mS5H8pL2YrhfUrYnBEUU'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImlzc3VlZF9hdCI6IjEwMDAwIn0.p2Wm1OUdN03VMxatXP-aFxKbfdA4Yo544p5dJQ7x4us'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.Fw4lVOlsAWwwnzA9LjI6wTX-xtLrhzTQfhg79OOlTi0'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciJ9.GtEXLGcH0Ht3JbV9SxbPW10xPDuxTGndw3K3Ek1_YLw'}, 'body': None}, None), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Imx1a2VzaGF5IiwiaWQiOiJzb21lX2lkIiwiYXV0aG9yaXRpZXMiOiJBRE1JTiIsImV4cGlyZXNfaW4iOiJuZXZlciIsImlzc3VlZF9hdCI6IjEwMDAwIn0.qVttlc2ND6yKlsSH9_2RCJT4URYSRF3Sc1Q5UwreZa4'}, 'body': None}, None), {}), {})
DEBUG:root:Signature verification failed
INFO:root:JWT payload is missing.
DEBUG:root:((({'headers': {}, 'body': None}, None), {}), {})
DEBUG:root:Invalid token type. Token must be a <class 'bytes'>
INFO:root:JWT payload is missing.
DEBUG:root:((({'headers': None, 'body': None}, None), {}), {})
ERROR:root:Exception raised while authenticating.
ERROR:root:Traceback (most recent call last):
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/utils/handler_utils.py", line 34, in validate_jwt
    valid, jwt_token, refresh_token = auth.validate_jwt()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 35, in validate_jwt
    jwt_payload = self.get_jwt_payload()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 68, in get_jwt_payload
    return self.jwt.decode_jwt_token(self.auth_header)
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 18, in auth_header
    if self.event.headers.get("Authorization"):
AttributeError: 'NoneType' object has no attribute 'get'

ERROR:root:'NoneType' object has no attribute 'get'
Traceback (most recent call last):
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/utils/handler_utils.py", line 34, in validate_jwt
    valid, jwt_token, refresh_token = auth.validate_jwt()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 35, in validate_jwt
    jwt_payload = self.get_jwt_payload()
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 68, in get_jwt_payload
    return self.jwt.decode_jwt_token(self.auth_header)
  File "/Users/luke/dev/route-rating/route-rating-serverless/api/auth.py", line 18, in auth_header
    if self.event.headers.get("Authorization"):
AttributeError: 'NoneType' object has no attribute 'get'
DEBUG:root:((({'headers': None, 'body': {'email': 'some_email', 'password': 'EYYYEYE'}}, None), {}), {})
DEBUG:root:Creating database session.
INFO:root:<api.api_gateway.ApiGatewayEvent object at 0x10b334130>
DEBUG:UsersService:Initializing UsersService
DEBUG:root:Creating database session.
DEBUG:UsersService:Attempting login:
{'id': None, 'username': None, 'password': 'EYYYEYE', 'city': None, 'state': None, 'firstName': None, 'lastName': None, 'email': 'some_email', 'phoneNumber': None, 'authority': None, 'role': None}
DEBUG:UsersService:Getting user by email:
{'id': None, 'username': None, 'password': 'EYYYEYE', 'city': None, 'state': None, 'firstName': None, 'lastName': None, 'email': 'some_email', 'phoneNumber': None, 'authority': None, 'role': None}
DEBUG:UsersService:User from database:
{'id': 'THIS IS AN ID', 'username': 'some_username', 'password': '$2a$10$jkVGs1AubefkCYxRD1ct5OQhqv5yoc/6gxWjBl.ezJLUEOoIxdyRq', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'some_first_name', 'lastName': 'some_last_name', 'email': 'some_email', 'phoneNumber': '8765309', 'authority': 'ADMIN', 'role': 'ADMIN_ROLE'}
DEBUG:UsersService:Comparing passwords
DEBUG:root:((({'headers': None, 'body': {'email': 'some_email', 'password': 'some_password'}}, None), {}), {})
DEBUG:root:Creating database session.
INFO:root:<api.api_gateway.ApiGatewayEvent object at 0x10b35b6d0>
DEBUG:UsersService:Initializing UsersService
DEBUG:root:Creating database session.
DEBUG:UsersService:Attempting login:
{'id': None, 'username': None, 'password': 'some_password', 'city': None, 'state': None, 'firstName': None, 'lastName': None, 'email': 'some_email', 'phoneNumber': None, 'authority': None, 'role': None}
DEBUG:UsersService:Getting user by email:
{'id': None, 'username': None, 'password': 'some_password', 'city': None, 'state': None, 'firstName': None, 'lastName': None, 'email': 'some_email', 'phoneNumber': None, 'authority': None, 'role': None}
DEBUG:UsersService:User from database:
{'id': 'THIS IS AN ID', 'username': 'some_username', 'password': '$2a$10$Jssdug7BWvdQUvoIOlhs7OFx9YCNtEda6RjMpPfD7Uke0xY.9/5kC', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'some_first_name', 'lastName': 'some_last_name', 'email': 'some_email', 'phoneNumber': '8765309', 'authority': 'ADMIN', 'role': 'ADMIN_ROLE'}
DEBUG:UsersService:Comparing passwords
DEBUG:root:((({'headers': None, 'body': {}}, None), {}), {})
DEBUG:root:Creating database session.
DEBUG:UsersService:Initializing UsersService
DEBUG:root:Creating database session.
DEBUG:root:((({'headers': None, 'body': {'id': None, 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}}, None), {}), {})
DEBUG:root:Creating database session.
DEBUG:UsersService:Initializing UsersService
DEBUG:root:Creating database session.
DEBUG:UsersService:Getting user by email:
{'id': None, 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}
DEBUG:UsersService:User from database:
{'id': None, 'username': None, 'password': None, 'city': None, 'state': None, 'firstName': None, 'lastName': None, 'email': None, 'phoneNumber': None, 'authority': None, 'role': None}
DEBUG:UsersService:Getting user by username:
{'id': None, 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}
DEBUG:UsersService:Encrypting password
DEBUG:root:((({'headers': None, 'body': {'id': 'adsf', 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}}, None), {}), {})
DEBUG:root:Creating database session.
DEBUG:UsersService:Initializing UsersService
DEBUG:root:Creating database session.
DEBUG:UsersService:Getting user by email:
{'id': 'adsf', 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}
DEBUG:UsersService:User from database:
{'id': 'adsf', 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}
DEBUG:UsersService:Getting user by username:
{'id': 'adsf', 'username': 'someusername', 'password': 'LKJ)(*098ljk', 'city': 'Ames', 'state': 'Iowa', 'firstName': 'first', 'lastName': 'last', 'email': 'email@gmail.com', 'phoneNumber': '9999999999', 'authority': None, 'role': None}
DEBUG:root:((({'headers': {'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEyMzQ1Njc4OTAiLCJlbWFpbCI6IkpvaG4gRG9lIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoxMjMsImF1dGhvcml0aWVzIjpbIkFETUlOIl19.krGL5CXulgL21svmqZESIBwoVF-YLCfc_jJ-xvD4Axk'}}, <__main__.FakeLambdaContext object at 0x10ee64910>), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEyMzQ1Njc4OTAiLCJlbWFpbCI6IkpvaG4gRG9lIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoxMjMsImF1dGhvcml0aWVzIjpbIkJBU0lDIl19.Wm79fxxEKRwUpuyr4t3DSIKXfHZtsAR_C0c9GK9enZ4'}}, <__main__.FakeLambdaContext object at 0x100ebf910>), {}), {})
DEBUG:root:((({'headers': {'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEyMzQ1Njc4OTAiLCJ1c2VybmFtZSI6IkpvaG4gRG9lIiwiZXhwaXJlcyI6MTIzLCJhdXRob3JpdGllcyI6WyJBRE1JTiJdfQ.o9dODnO_z2DUyJKTdXtuL_PFc8zFnEdsi20L5TpzYZU'}}, <__main__.FakeLambdaContext object at 0x10e60f910>), {}), {})
INFO:root:JWT payload is missing a field.
DEBUG:root:((({'headers': {'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEyMzQ1Njc4OTAiLCJlbWFpbCI6IkpvaG4gRG9lIiwiZXhwaXJlc19pbiI6Im5ldmVyIiwiaXNzdWVkX2F0IjoxMjMsImF1dGhvcml0aWVzIjpbIkFETUlOIl19.krGL5CXulgL21svmqZESIBwoVF-YLCfc_jJ-xvD4Axk'}}, <__main__.FakeLambdaContext object at 0x102fdf910>), {}), {})
